{% load static %}
<style>
    .page-browser {
        display: grid;
        height: 100%;
        grid-template-columns: 20% 90%;
        z-index: 102;
        cursor: pointer;
    }

    .page-browser> .page-browser-left{
        padding-left: 20px;
        padding-top: 20px;
        border-right: solid 1px rgba(238, 238, 238, 0.808);
    }

    .page-browser-left-item {
        display: grid;
        grid-template-columns: 10% 90%;
        gap: 10px;
        height: 30px;
        color: gray;
        margin-top: 10px;
        transition: all 0.1s ease-in;
    }

    .page-browser-left-item:hover{
        transform: scale(1.03);
        opacity: 0.7;
    }

    .page-item-icon {
        font-size: 20px;
    }

    .page-browser-left-item.selected {
        color: rgb(105, 105, 105);
    }

    .page-item-text {
        font-size: small;
        height: inherit;
        margin-top: 3px;
    }

    .page-browser-right  {
        padding-right: 10%;
        padding-left: 20px;
        padding-top: 20px;
    }

    
   /* adaptivenes */

@media only screen and (max-width: 1055px) {}

@media only screen and (max-width: 800px) {}

@media only screen and (max-width: 700px) {}

@media only screen and (max-width: 600px) {
    .page-browser {
      grid-template-columns: 40% 60%;
    }
}

@media only screen and (max-width: 500px) {}

@media only screen and (max-width: 400px) {}

@media only screen and (max-width: 340px) {}

</style>

<div class="page-browser">
    <div class="page-browser-left">
        <div class="page-browser-left-item selected" id="allFilesButton ">
            <div class="div-flex center" > <i  class="fas fa-folder page-item-icon"></i></div>
            <div class="page-item-text div-flex start">All files</div>
        </div>
        <div class="page-browser-left-item" id="downloadStatsButton">
            <div class="div-flex center" > <i class="fas fa-cloud-download-alt"></i></div>
            <div class="page-item-text div-flex start">Download stats</div>
        </div>
        <div class="page-browser-left-item" id="deletedHistoryButton">
            <div class="div-flex center" ><i class="fas fa-trash-alt"></i></div>
            <div class="page-item-text div-flex start">Deleted history</div>
        </div>
    </div>
    <div class="page-browser-right" >
        <!-- sub-pages -->
    </div>
</div>


<script>
    //variables
    var filesPage = `{% include 'Console/pages/browser_sub_pages/files.html' %}`
    var downloadsPage = `{% include 'Console/pages/browser_sub_pages/downloads.html' %}`
    var deletedPage = `{% include 'Console/pages/browser_sub_pages/deleted.html' %}`

    var allFilesButton ;
    var downloadStatsButton;
    var deletedHistoryButton;


    //entry
    window.addEventListener("DOMContentLoaded",()=>{
        //browserPageLoading()
        loadBrowserSubPage(filesPage)
        allFilesButton = document.getElementById("allFilesButton ")
        downloadStatsButton = document.getElementById("downloadStatsButton")
        deletedHistoryButton = document.getElementById("deletedHistoryButton")

        //listeners
        allFilesButton.addEventListener("click",()=>{
            loadBrowserSubPage(filesPage)
        })

        downloadStatsButton.addEventListener("click",()=>{
            loadBrowserSubPage(downloadsPage)
        })
        
        deletedHistoryButton.addEventListener("click",()=>{
            loadBrowserSubPage(deletedPage)
        })
 
    })

    //functions
    function loadBrowserSubPage(page){
        document.querySelector(".page-browser-right").innerHTML = page
    }



    function browserPageHideLoading(){
        document.getElementById("browserLoader").classList.remove("show")
    }

    
    function browserPageLoading(){
        if (!document.getElementById("browserLoader").classList.contains("show"))
            document.getElementById("browserLoader").classList.add("show")
    }
</script>