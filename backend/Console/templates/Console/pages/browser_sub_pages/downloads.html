<style>
    .browser-downloads-page {
        display: none;
    }


    /* page toolbar */
    .browser-download-page.top-toolbar {
        margin-top: 20px;
        margin-left: 20px;
    }

    .top-toolbar-search {
        background-color: rgba(223, 223, 223, 0.555);
        width: 580px;
        padding: 13px;
        font-size: small;
        border: none;
        outline: none;
        color: gray;
        border-radius: 4px;
    }

    /* categorizer */
    .download-categorizer {
        margin-top: 20px;
        padding-left: 20px;
        padding-top: 10px;
        padding-bottom: 10px;
        display: grid;
        grid-template-columns: 40% 20% 12% 12% 12%;
        border-bottom: solid 1px rgba(235, 235, 235, 0.685);
    }

    /* download file item */
    .download-file-item {
        padding-left: 20px;
        padding-top: 10px;
        padding-bottom: 10px;
        display: grid;
        grid-template-columns: 40% 20% 12% 12% 12%;
        border-bottom: solid 1px rgba(235, 235, 235, 0.685);
        transition: all 0.1s ease;
    }

</style>

<div class="browser-downloads-page">
    <div class="top-toolbar" style="margin-left: 20px;">
        <input id="downloadFileSearchInput" class="top-toolbar-search" placeholder="Search file by id" type="search">
    </div>

    <!-- categorizer -->
    <div class="download-categorizer">
        <div class="categorizer-text">Identification</div>
        <div class="categorizer-text">Name</div>
        <div class="categorizer-text hide-mobile ">Download-by</div>
        <div class="categorizer-text hide-mobile ">Downloaded</div>
        <div class="categorizer-text hide-mobile ">Overall-Downloads</div>
    </div>


    <!-- loader -->
    <div id="downloadFilesLoader" class="pageLoader" style="transform: scale(0.2);">
        <div class="loader-console"></div>
   </div>

    <!-- download items -->
    <div id="bodydownloadFiles" class="download-files-list">
        <!-- download file-->
        <div class="download-file-item">
            <div class="categorizer-text">VJGPVZSINZBPRCYYDZNHCVCN8...UWSKTXTEGHSSS6VR2X</div>
            <div class="categorizer-text">demo.webm</div>
            <div class="categorizer-text hide-mobile ">rbryanben</div>
            <div class="categorizer-text hide-mobile ">23-06-21 13:23</div>
            <div class="categorizer-text hide-mobile ">6754</div>
        </div>
    
    </div>
</div>
<script>
    var downloadsPageBrowser 

    window.addEventListener("DOMContentLoaded",()=>{
        downloadsPageBrowser = document.querySelector(".browser-downloads-page")
    })

    function showBrowserDownloadPage(){
        downloadsPageBrowser.style.display = "block"
        getDownloadStats()
    }

    function hideBrowserDownloadPage(){
        downloadsPageBrowser.style.display = "none"
    }

    let downloadStat = class {
        constructor(jsonObject){
             /// id name username data and downloads
        }
    }

    //objects 
    function getDownloadStats(){
        //data to post
        data = {
            "project" : localStorage.getItem("working-project")
        }
        postToServer("/console/get-download-stats", data, function(responce) {
            if (responce == "500" || responce == "not found" || responce == "denied") {
                ShowWarning("Fetch Objects Failed")
            } else {
                //make json objects
                downloadedFilesArray = JSON.parse(responce)

                //for objects
                downloadedFilesArray.forEach(object => {
                    console.log(object['user']['username']);
                    console.log(object['file']['id']);
                    console.log(object['file']['name']);
                    console.log(object['downloaded']);
                });
            }
        })

    }

</script>
