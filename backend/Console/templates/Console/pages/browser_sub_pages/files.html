{% load static %}
<style>
    /* file browser page */
    .folder-browser-page {
        display: none;
    }


    .folder-toolbar-navigator>i {
        color: gray;
    }
    .folder-toolbar-navigator>span{
        color: gray;
    }
    .slash{
        margin-left: 5px;
        margin-right: 5px;
        color: gray;
    }
    .directory-name:hover{
        text-decoration: underline;
    }

    .slash{
        text-decoration: none;
    }

    .upload-file{
        position: absolute;
        top: 15px;
        right: 30px;
        color: gray;
        transition: all 0.2s ease-in;
    }

    .upload-file:hover{
        transform: scale(1.1);
    }

    .folder-categorizer {
        margin-top: 30px;
        display: grid;
        grid-template-columns: 10% 40% 20% 40%;
    }


    .categorizer-text {
        margin-top: 2px;
        font-size: small;
        color: gray;
    }

    .separator {
        border-bottom: solid 1px rgba(235, 235, 235, 0.685);
        margin-left: -20px;
        margin-top: 20px;
    }

    .folder-browser-page {
        margin-right: 1.5%;
    }

    .folder-categorizer.item{
        
        margin-top: 0;
        margin-left: -20px;
        padding-left: 20px;
        padding-top: 10px;
        padding-bottom: 10px;
        border-bottom: solid 1px rgba(235, 235, 235, 0.685);
    }

    .categorizer-text>i{
        margin-right: 10px;
        color: rgb(108, 219, 177);
    }

    .folder-categorizer.item:hover{
        background-color: rgba(142, 178, 226, 0.137);
    }

</style>

<div class="folder-browser-page">  
    <div id="browserLoader" class="pageLoader" style="transform: scale(0.2);">
         <div class="loader-console"></div>
    </div>
    <div class="folder-toolbar">
        <div class="folder-toolbar-navigator">
             <i class="fas fa-home"></i><!--directory --><span class="slash">/</span><span class="directory-name">Accounts</span>  <!--directory --><span class="slash">/</span><span class="directory-name">Docs</span>
        </div>
        <!-- upload-->
        <div class="upload-file">
             <i class="fas fa-upload"></i>
        </div>
        <!-- folders-->
        <div class="folder-categorizer">
            <div class=""><input type="checkbox"></div>
            <div class="categorizer-text">Name</div>
            <div class="categorizer-text">Size</div>
            <div class="categorizer-text">Modified</div>
        </div>
        <!-- separator -->
        <div class="separator"></div>
        <!-- files come in here-->
        <div id="browserFilesContent">
    
        </div>
     </div>
</div>

<script>
    var filesPageBrowser 

    window.addEventListener("DOMContentLoaded",()=>{
        filesPageBrowser = document.querySelector(".folder-browser-page")
        browserPageHideLoading()
    })

    function showBrowserFilePage(){
        filesPageBrowser.style.display = "block"
        //load files in the root directory 
        loadFiles("root")
    }


    function loadFiles(folderID){
        browserPageLoading()
        details = {
            "projectName" : "Chat-Sock",
            "folderID" :folderID
        }
        postToServer("/console/get-folder", details, function(responce) {
        if (responce == "500") {
            alert("problem")
        } else {
            browserPageHideLoading()
            document.getElementById("browserFilesContent").innerHTML = responce
        }
    })
    }

    function hideBrowserFilePage(){
        filesPageBrowser.style.display = "none"
    }


    function browserPageHideLoading(){
        var loader = (document.getElementById("browserLoader"))
        loader.classList.remove("show")
    }

    
    function browserPageLoading(){
        if (!document.getElementById("browserLoader").classList.contains("show"))
            document.getElementById("browserLoader").classList.add("show")
    }
     
    window.oncontextmenu= function(){
        return false
    }

    function handleRightClick(){
        alert("hie")
        return false
    }

    function loadIndexObject(event,objectType,folderRef){
        if (objectType == "FD"){
            loadFiles(folderRef)
        }
        else {
            alert("not folder")
        }
    }
</script>


  